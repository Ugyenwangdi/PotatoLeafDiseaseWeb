{% extends 'headerPage.html' %} {% block content%}

<div style="align-items: center;">
    <h4>Upload Image for Classification</h4>


    <br>

    <form method="post" enctype="multipart/form-data" action="predict">

        {% csrf_token %}
        <div class="col-md-4 col-sm-4"><label for="fname">Upload Image File Here:</label> </div> <input name="filePath" type="file"><br><br>
        <br>


        <input type="submit" value="Submit"></div>

<div style="padding: 8rem; display: grid; align-items: center; ">
    {% if predictedLabel %}
    <h4>The predicted class is {{predictedLabel}}</h4>
    <p>Confidence: {{confidence}}%</p>
    <img src={{filePathName}} alt="image">
    <p style="padding: 8px;">{{filename}}</p> {% endif %}
</div>

<div class="col-md-6">
    <div class="card card-body h-100">
        {% if request.user.is_authenticated %}
        <p>Hello {{request.user}}</p>
        {% endif %}
        <h5>Contribute to our API?</h5>
        <hr>
        <p>Contact at following address.</p>
        <p>Contact: potatoleaf@gmail.com</p>
        {% if request.user.is_authenticated %}
        <a href="{% url 'classifierApp:predict' %}" class="btn btn-outline-dark btn-md m-1">Check the API</a>
        <a href="{% url 'classifierApp:logout' %}" class="btn btn-outline-dark btn-md m-1">Logout</a> {% else %}
        <a href="{% url 'classifierApp:register' %}" class="btn btn-outline-dark btn-md" style="margin-top: 4rem;">Register</a>

        <a href="{% url 'classifierApp:login' %}" class="btn btn-outline-dark btn-md" style="margin-top: 4rem;">Login</a> {% endif %}

    </div>
</div>




</form>

</div>


<br> {% endblock %}